<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title> Map Generator </title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <div>
    <div class="header clearfix">
      <div id="content"
           style="margin-top: 400px;">
      </div>
      </br>
      <div class="form-group">
        <label for="male">Number of rooms :</label>
        <input id="nbRooms" type="range" min="2" max="20">
        <button  type="button" class="btn btn-default" onclick=reload()>Reload</button>
      </div>
      <script src="scripts/phaser.min.js"></script>
      <script src="scripts/map-generator.js"></script>
    </div>
    <hr/>
    <footer class="footer">
      <div class="form-group">
        <label for="import">export JSON data: </label>
        <textarea class="form-control" rows="5" id="export" readonly></textarea>
      </div>
      <div class="form-group">
        <label for="import">jsonFile: </label>
        <textarea class="form-control" rows="5" id="import" placeholder="Paste your json file here"></textarea>
      </div>
      <button type="submit" class="btn btn-default" onclick=submitFile()>Submit</button>
    </footer>
  </div>
   <script type="text/javascript">

    function listen() {
      var Fn = function(val) { document.getElementById('export').value = this.getJSONData()};
      this.game.listen(Fn);
    }

    function submitFile() {
      var text1 = document.getElementById('import').value;
      this.game.importFromJson(text1);
      document.getElementById('export').value = this.game.getJSONData();
    }

    function reload() {
      nbRooms = document.getElementById('nbRooms').value;
      this.game.reload({nbRooms: nbRooms });
    }

    listen();

  </script>
</body>
</html>
