{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/map-generator/constants/constants.js",
    "src/map-generator/constants/keyUtils.js",
    "src/map-generator/index.js",
    "src/map-generator/lib/constants.js",
    "src/map-generator/lib/corridor.js",
    "src/map-generator/lib/corridorSprite.js",
    "src/map-generator/lib/dungeon.js",
    "src/map-generator/lib/room.js",
    "src/map-generator/lib/roomSprite.js",
    "src/map-generator/lib/utils.js",
    "src/map-generator/lib/wall.js",
    "src/map-generator/object/character.js",
    "src/map-generator/object/roomWithCarpet.js",
    "src/map-generator/object/roomWithColoredCorners.js",
    "src/map-generator/states/GameState.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import { WallSize as wallSizeOriginal } from \"../lib/constants\";\n\nexport const WallSize = wallSizeOriginal;\nexport const CarpetWidth = 40;\nexport const CarpetHeight = 40;\nexport const CornerWidth = 20;\nexport const CornerHeight = 20;\n\nexport const WorldWitdth = 2000;\nexport const WorldHeight = 2000;\n\n",
    "export const Character = \"Character\";\nexport const Corner = \"Corner\";\nexport const Carpet = \"Carpet\";\n",
    "import GameState from 'states/GameState';\n\nclass MapGenerator extends Phaser.Game {\n\n  constructor() {\n    super(800, 600, Phaser.AUTO, 'content', null);\n    this.state.add('GameState', GameState, false);\n    this.state.start('GameState');\n  }\n}\n\nnew MapGenerator();\n",
    "export const Color = \"#473B3B\";\nexport const WallColor = \"#395992\";\nexport const WallSize = 16;\n\nexport const Vertical = \"vertical\";\nexport const Horizontal = \"horizontal\"\nexport const Directions = [Vertical, Horizontal];\n",
    "import CorridorSprite from './corridorSprite';\nimport {WallSize, Vertical, Horizontal, Directions} from './constants';\nimport Wall from \"./wall\";\n\nconst WallName = \"ColissionWall\";\nconst SpriteName = \"CorridorSprite\";\n\nclass Corridor extends Phaser.Group {\n\n  constructor(game, parent, x, y, width, height, direction) {\n    super(game, parent, \"corridor\", true, true, Phaser.Physics.ARCADE);\n    if(!Directions.includes(direction)) {\n      console.error(`Corridor:constructor : ${direction} is a not a value possible [${Directions}]`);\n    }\n    this.direction = direction;\n    this.addWalls(game, x, y, width, height);\n  }\n\n  addWalls(game, x,y, width, height) {\n    if(this.direction === Vertical) {\n      this.addVerticalWall(game, x, y, width, height);\n    } else {\n      this.addHorizontalWall(game, x, y, width, height);\n    }\n  }\n\n  addVerticalWall(game, x, y, width, height) {\n    const corridorSprite = new CorridorSprite(game, x, y, width, height);\n    for(let i = y; i < y + height; i += WallSize) {\n      const leftWall = this.addWall(game, x - WallSize, i);\n      const rightWall = this.addWall(game, x + width, i);\n      this.add(leftWall);\n      this.add(rightWall);\n    }\n    for(let j = x - WallSize; j < x + width + WallSize; j += WallSize ) {\n      const topWall = this.addWall(game, j, y - WallSize);\n      const bottomWall = this.addWall(game, j, y + height);\n      this.add(topWall);\n      this.add(bottomWall);\n    }\n    this.add(corridorSprite);\n  }\n\n  addHorizontalWall(game, x, y, width, height) {\n    const corridorSprite = new CorridorSprite(game, x, y, width, height);\n    for(let i = x; i < x + width; i += WallSize) {\n      const upWall = this.addWall(game, i, y - WallSize);\n      const bottomWall = this.addWall(game, i, y + height);\n      this.add(upWall);\n      this.add(bottomWall);\n    }\n    for(let j = y - WallSize; j < y + height + WallSize; j += WallSize) {\n      const leftWall = this.addWall(game, x - WallSize, j);\n      const rightWall = this.addWall(game, x + width, j);\n      this.add(leftWall);\n      this.add(rightWall);\n    }\n    this.add(corridorSprite);\n}\n\n  addWall(game, x, y) {\n    let wall = new Wall(game, x, y, WallName);\n    return wall;\n  }\n\n  corridorSprite() {\n    const corridorSprite = this.children.find(child => child.name === SpriteName);\n    if(!corridorSprite) {\n      //to avoid undefined attribute\n      return {x: -1, y: -1, width:-1, height:-1};\n    }\n    return corridorSprite;\n  }\n\n  walls() {\n    return this.children.filter(child => child.name === WallName);\n  }\n\n\n}\n\nexport default Corridor;",
    "import {Color} from \"./constants.js\";\n\nclass CorridorSprite extends Phaser.Sprite {\n\n  constructor(game, x,y, width, height, color = Color) {\n    let bmd = game.add.bitmapData(width,height);\n    // draw to the canvas context like normal\n    bmd.ctx.beginPath();\n    bmd.ctx.rect(0,0,width,height);\n    bmd.ctx.fillStyle = color;\n    bmd.ctx.fill();\n\n    super(game,x,y, bmd);\n    this.center = { x: x + (width/2), y: y+ (height/2)};\n    //add constant\n    this.name = \"CorridorSprite\";\n  }\n\n  overlapRoom(room) {\n      if (this.x + this.width < room.x) return false; // a is left of b\n      if (this.x > room.x + room.width) return false; // a is right of b\n      if (this.y + this.height < room.y) return false; // a is above b\n      if (this.y > room.y + room.height) return false; // a is below b\n      return true; // boxes overlap\n  }\n}\n\nexport default CorridorSprite;",
    "import Corridor from './corridor';\nimport {isInside, modGrid} from \"./utils\";\nimport {WallSize, Horizontal, Vertical } from './constants';\n\nconst CorridorHeight = 4 * WallSize;\nconst CorridorWidth = 4 * WallSize;\nconst MaxRoom = 10;\n//each room shoud have the same size\nconst MinRoomSize = 5 * WallSize;\nconst MaxRoomSize = 5 * WallSize;\n\nclass Dungeon extends Phaser.Group {\n\n  constructor(game, parent, worldWitdth, worldHeight, arrayOfRoom) {\n    super(game, parent, \"dungeon\", false, true, Phaser.Physics.ARCADE);\n    for(let i = 0; i < MaxRoom; i++) {\n      //FIX ME  the computation does not work well\n      // TODO OFFSET WALLSIZE\n      const width = modGrid(WallSize, MinRoomSize + Math.random() * (MaxRoomSize - MinRoomSize));\n      const height = modGrid(WallSize, MinRoomSize + Math.random() * (MaxRoomSize - MinRoomSize));\n      console.log(width)\n      console.log(height)\n      const x = modGrid(WallSize, Math.random() * (worldWitdth - width - 1) + 1);\n      const y = modGrid(WallSize, Math.random() * (worldHeight - height - 1) + 1);\n\n      const indexChosen = Math.trunc(Math.random() * arrayOfRoom.length);\n      let newRoom = Reflect.construct(arrayOfRoom[indexChosen],[game, game.world, x, y, width, height]);\n      let failed = false;\n      this.children.some(child => {\n         failed = newRoom.overlapRoom(child);\n         if(failed) {\n          //exit le loop\n          return true;\n         }\n      });\n      if (!failed) {\n        // local function to carve out new room\n        this.createRoom(newRoom);\n        if(this.rooms().length > 1) {\n          const prevRoom = this.findLastRoom(newRoom);\n          const rng = Math.random() * 2;\n          if(rng >= 1) {\n            this.horizontalCorridor(game, prevRoom, newRoom);\n            this.verticalCorridor(game, prevRoom, newRoom, false);\n          } else {\n            this.verticalCorridor(game, prevRoom, newRoom);\n            this.horizontalCorridor(game, prevRoom, newRoom, false);\n          }\n        }\n      }\n    }\n    this.exportDebug();\n    this.removeUselessWalls(game);\n    this.sortDepth();\n    this.addAdditionalSprite(game);\n  }\n\n\n  import(game, rooms, corridors) {\n    rooms.forEach(room => {\n      const newRoom = new Room(game, game.world, room.x, room.y, room.w, room.h);\n      this.createRoom(newRoom);\n    });\n    corridors.forEach(corridor => {\n      const newCorridor = new Corridor(game, game.world, corridor.x, corridor.y, corridor.w, corridor.h, corridor.direction);\n      this.add(newCorridor);\n    });\n  }\n\n  rooms(newRoom = null) {\n    return this.children.filter(child => {\n      return child.name === \"room\" && child != newRoom;\n    });\n  }\n\n  findLastRoom(newRoom) {\n    const rooms = this.rooms(newRoom);\n    return rooms[rooms.length - 1];\n  }\n\n  createRoom(room) {\n    this.add(room);\n  }\n\n  horizontalCorridor(game, prevRoom, newRoom, first = true) {\n    const x1 = Math.min(prevRoom.borders().center.x, newRoom.borders().center.x);\n    const x2 = Math.max(prevRoom.borders().center.x, newRoom.borders().center.x);\n    const y = first ? prevRoom.borders().center.y : newRoom.borders().center.y;\n    const width = x2 - x1;\n    const corridor = new Corridor(game, game.world, x1, y - CorridorHeight/2, width, CorridorHeight, Horizontal);\n    this.add(corridor);\n  }\n\n  verticalCorridor(game, prevRoom, newRoom, first = true) {\n    const y1 = Math.min(prevRoom.borders().center.y, newRoom.borders().center.y);\n    const y2 = Math.max(prevRoom.borders().center.y, newRoom.borders().center.y);\n    const x = first ? prevRoom.borders().center.x : newRoom.borders().center.x;\n    const height = y2 - y1;\n    const corridor = new Corridor(game, game.world, x - CorridorWidth/2, y1, CorridorWidth, height, Vertical);\n    this.add(corridor);\n  }\n\n  getInitialRoom() {\n    return this.rooms()[0];\n  }\n\n  collide(character) {\n    let collide = false;\n    this.children.forEach(child => {\n      if(child.name === \"corridor\") {\n        if(isInside(character, child.corridorSprite())) {\n          collide = true;\n        }\n      } else {\n        if(isInside(character, child)) {\n          collide = true;\n        }\n      }\n    });\n    return collide;\n  }\n\n  walls() {\n    const arrayMultipleDim = this.children.map(child => child.walls());\n    return [].concat.apply([], arrayMultipleDim);\n  }\n\n  corridors() {\n    return this.children.filter(child => child.name === \"corridor\");\n  }\n\n  corridorSprites() {\n    return this.corridors().map(child => child.corridorSprite());\n  }\n\n  roomsSprites() {\n    return this.rooms().map(child => child.roomSprite());\n  }\n\n  removeUselessWalls(game) {\n    const destroyFunction = (wall, other) => {\n      wall.kill();\n    }\n\n    this.rooms().forEach(room => {\n      game.physics.arcade.collide(room.walls(), this.corridorSprites(), destroyFunction);\n    });\n\n    this.corridors().forEach(corridor => {\n      game.physics.arcade.collide(corridor.walls(), this.roomsSprites(), destroyFunction);\n    });\n\n     this.corridors().forEach(corridor => {\n        this.corridors().forEach(corridor2 => {\n          if(corridor !== corridor2) {\n            game.physics.arcade.collide(corridor.walls(), corridor2.corridorSprite(), destroyFunction);\n          }\n        });\n     });\n  }\n\n  addAdditionalSprite(game) {\n    this.rooms().forEach(room => {\n      room.addAdditionalSprite(game);\n    });\n  }\n\n\n  sortDepth() {\n    const compare = (a,b) => {\n      if(a.name === \"room\" && b.name === \"room\" || a.name === \"corridor\" &&  b.name === \"corridor\") {\n        return 0;\n      }\n      else if (a.name === \"room\" && b.name == \"corridor\") {\n        return 1;\n      }\n      else if (a.name === \"corridor\" && b.name == \"room\") {\n        return -1;\n      }\n    };\n    this.children.sort(compare);\n  }\n\n  exportDebug() {\n    const roomArray = this.rooms().map(m => {return {x: m.roomSprite().x, y: m.roomSprite().y, w: m.width, h: m.height};});\n    const corridorArray = this.corridors().map(m => {return {x: m.corridorSprite().x, y: m.corridorSprite().y, w: m.width, h: m.height, direction: m.direction};});\n    console.log(JSON.stringify(roomArray));\n    console.log(JSON.stringify(corridorArray));\n  }\n\n\n}\n\nexport default Dungeon;",
    "import {WallSize} from './constants';\nimport RoomSprite from './roomSprite';\nimport Wall from './wall';\n\nconst WallName = \"RoomWall\";\nconst SpriteName = \"RoomSprite\";\n\nclass Room extends Phaser.Group {\n\n  constructor(game, parent, x, y, width, height) {\n    super(game, parent, \"room\", true, true, Phaser.Physics.ARCADE);\n    this.createRoom(game, x, y, width, height);\n    this.originalX = x;\n    this.originalY = y;\n  }\n\n  createRoom(game, x, y, width, height) {\n    const room = new RoomSprite(game, x, y, width, height);\n    this.add(room);\n    for(let i = x; i < x + width + WallSize; i += WallSize) {\n      const upWall = this.addWall(game, i, y - WallSize);\n      const downWall = this.addWall(game, i, y + height);\n      this.add(upWall);\n      this.add(downWall);\n    }\n    for(let j = y; j < y + height; j += WallSize) {\n      const leftWall = this.addWall(game, x - WallSize, j);\n      const rightWall = this.addWall(game, x + width, j);\n      this.add(leftWall);\n      this.add(rightWall);\n    }\n  }\n\n  addWall(game, x, y) {\n    let wall = new Wall(game, x, y, WallName);\n    //wall.alpha = 0.2;\n    return wall;\n  }\n\n  addAdditionalSprite(game) {\n    // NOTHING TO DO HERE\n  }\n\n  borders() {\n    return this.roomSprite();\n  }\n\n  walls() {\n    return this.children.filter(child => child.name === WallName);\n  }\n\n  roomSprite() {\n    return this.children.find(child => child.name === SpriteName);\n  }\n\n  overlapRoom(room) {\n    this.roomSprite().overlapRoom(room);\n  }\n\n}\n\nexport default Room;",
    "import {Color} from \"./constants.js\";\n\nclass RoomSprite extends Phaser.Sprite {\n\n  constructor(game, x,y, width, height, color = Color) {\n    let bmd = game.add.bitmapData(width,height);\n    // draw to the canvas context like normal\n    bmd.ctx.beginPath();\n    bmd.ctx.rect(0,0,width,height);\n    bmd.ctx.fillStyle = color;\n    bmd.ctx.fill();\n\n    super(game,x,y, bmd);\n    this.center = {x: x + (width/2), y: y+ (height/2)};\n    // add constant\n    this.name = \"RoomSprite\";\n  }\n\n  overlapRoom(room) {\n      if (this.x + this.width < room.x) return false; // a is left of b\n      if (this.x > room.x + room.width) return false; // a is right of b\n      if (this.y + this.height < room.y) return false; // a is above b\n      if (this.y > room.y + room.height) return false; // a is below b\n      return true; // boxes overlap\n  }\n}\n\nexport default RoomSprite;",
    "export function isInside(compared, comparator) {\n  const rectCompared = {x: compared.x, y: compared.y, x2: compared.x + compared.width, y2: compared.y + compared.height};\n  const rectComparator = {x: comparator.x, y: comparator.y, x2: comparator.x + comparator.width, y2: comparator.y + comparator.height}\n\n  return rectCompared.x > rectComparator.x    &&\n         rectCompared.y > rectComparator.y    &&\n         rectCompared.x2 < rectComparator.x2  &&\n         rectCompared.y2 < rectComparator.y2\n}\n\nexport function overlap(box1, box2) {\n    if (box1.x + box1.width < box2.x) return false; // a is left of b\n    if (box1.x > box2.x + box2.width) return false; // a is right of b\n    if (box1.y + box1.height < box2.y) return false; // a is above b\n    if (box1.y > box2.y + box2.height) return false; // a is below b\n    return true; // boxes overlap\n}\n\nexport function overlapWithDifference(box1, box2) {\n  let output = {};\n  output.x = Math.max(box1.x, box2.x);\n  output.y = Math.max(box1.y, box2.y);\n  output.width = Math.min(box1.right, box2.right) - output.x;\n  output.height = Math.min(box1.bottom, box2.bottom) - output.y;\n  return [overlap(box1, box2), output];\n}\n\nexport function modGrid(modValue, value) {\n  const offset = value % modValue;\n  return value + (modValue - offset);\n}",
    "import {WallSize, WallColor} from './constants';\n\nclass Wall extends Phaser.Sprite {\n\n  constructor(game, x,y, name = \"Wall\") {\n    let bmd = game.add.bitmapData(WallSize,WallSize);\n    // draw to the canvas context like normal\n    bmd.ctx.beginPath();\n    bmd.ctx.rect(0, 0, WallSize, WallSize);\n    bmd.ctx.fillStyle = WallColor;\n    bmd.ctx.fill();\n\n    super(game,x,y, bmd);\n    this.name = name;\n    game.physics.arcade.enable(this);\n    this.body.immovable = true;\n  }\n}\n\nexport default Wall;",
    "class Character extends Phaser.Sprite {\n\n  constructor(game, x, y, key, frame) {\n    super(game, x, y, key, frame);\n    game.physics.arcade.enable(this);\n    this.scale.setTo(0.25, 0.25);\n    //this.scale.setTo(0.5, 0.5);\n    this.cursors = game.input.keyboard.createCursorKeys();\n    //this.body.gravity.y = 600;\n  }\n\n  update() {\n    this.body.velocity.x = 0;\n    this.body.velocity.y = 0;\n\n    if (this.cursors.left.isDown)\n    {\n        this.body.velocity.x = -200;\n    }\n    else if (this.cursors.right.isDown)\n    {\n        this.body.velocity.x = 200;\n    }\n\n    if (this.cursors.up.isDown)\n    {\n        this.body.velocity.y = -200;\n    }\n    else if (this.cursors.down.isDown) {\n        this.body.velocity.y = 200;\n    }\n  }\n}\n\nexport default Character;",
    "import Room from \"../lib/room\";\n\nimport {CarpetWidth, CarpetHeight, WallSize} from \"../constants/constants\";\n\nimport { Carpet } from \"../constants/keyUtils\";\n\nclass RoomWithCarpet extends Room {\n\n  addAdditionalSprite(game) {\n    const heightRoom = this.height - 2 * WallSize;\n    const widthRoom = this.width - 2 * WallSize;\n    const x = this.originalX + widthRoom / 2 - CarpetWidth/2;\n    const y = this.originalY + heightRoom / 2 - CarpetHeight/2;\n\n    let carpet = game.add.sprite(x, y, Carpet);\n    this.add(carpet);\n  }\n}\n\nexport default RoomWithCarpet;",
    "import Room from \"../lib/room\";\n\nimport {CornerWidth, CornerHeight, WallSize} from \"../constants/constants\";\n\nimport { Corner } from \"../constants/keyUtils\";\n\nclass RoomWithColoredCorners extends Room {\n\n  addAdditionalSprite(game) {\n    const spriteRoomWidth = this.width - (2 * WallSize);\n    const spriteRoomHeight = this.height - (2 * WallSize);\n    this.addCorner(game, this.originalX, this.originalY);\n    this.addCorner(game, this.originalX + spriteRoomWidth - CornerWidth, this.originalY);\n\n    this.addCorner(game, this.originalX, this.originalY + spriteRoomHeight - CornerHeight);\n    this.addCorner(game, this.originalX + spriteRoomWidth  - CornerWidth, this.originalY + spriteRoomHeight - CornerHeight);\n  }\n\n  addCorner(game, x, y) {\n    const corner = game.add.sprite(x, y, Corner);\n    this.add(corner);\n  }\n}\n\nexport default RoomWithColoredCorners;",
    "const PATH = \"res/map-generator\";\nimport Hero from 'object/character';\nimport Dungeon from 'lib/dungeon';\nimport Room from 'lib/room';\nimport RoomWithCarpet from 'object/roomWithCarpet';\nimport RoomWithColoredCorners from \"object/roomWithColoredCorners\";\n\nimport { WorldWitdth, WorldHeight } from \"constants/constants\";\nimport { Character, Carpet, Corner } from \"constants/keyUtils\";\n\nclass GameState extends Phaser.State {\n\n  create() {\n    this.game.stage.backgroundColor = \"#4488AA\";\n    this.game.world.setBounds(0, 0, WorldWitdth, WorldHeight);\n    this.character = new Hero(this.game, 50, 200, Character, 0);\n    this.dungeon = new Dungeon(this.game, this.game.world, WorldWitdth, WorldHeight, [Room, RoomWithCarpet, RoomWithColoredCorners]);\n    const roomPosition = this.dungeon.getInitialRoom().borders().center;\n    this.character.position.setTo(roomPosition.x,roomPosition.y);\n    this.game.add.existing(this.character);\n    this.game.camera.follow(this.character);\n  }\n\n  update() {\n    this.game.physics.arcade.collide(this.character, this.dungeon.walls());\n  }\n\n  preload() {\n    this.game.load.image(Character, PATH + '/character.png');\n    this.game.load.image(Carpet, PATH + '/carpet.png');\n    this.game.load.image(Corner, PATH + '/corner.png');\n  }\n}\n\nexport default GameState;\n"
  ]
}